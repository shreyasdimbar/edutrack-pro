<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Submit Activity - Edutrack</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        background: linear-gradient(
          180deg,
          #e0e7ff 0%,
          #f8fafc 30%,
          #f0fdfa 100%
        );
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        min-height: 100vh;
        padding-bottom: 40px;
      }

      /* Top Navigation Bar */
      .top-nav {
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.95) 0%,
          rgba(248, 250, 252, 0.95) 100%
        );
        backdrop-filter: blur(10px);
        padding: 12px 0;
        box-shadow: 0 2px 12px rgba(99, 102, 241, 0.08);
        position: sticky;
        top: 0;
        z-index: 1000;
        border-bottom: 1px solid rgba(99, 102, 241, 0.1);
      }

      .nav-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 24px;
      }

      .logo {
        font-size: 20px;
        font-weight: 700;
        background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .logo:hover {
        transform: scale(1.03);
        filter: brightness(1.1);
      }

      .nav-actions {
        display: flex;
        gap: 12px;
        align-items: center;
      }

      .nav-btn {
        background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 13px;
        font-weight: 500;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 0 2px 8px rgba(99, 102, 241, 0.3);
        position: relative;
        overflow: hidden;
      }

      .nav-btn::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.2),
          transparent
        );
        transition: left 0.4s ease;
      }

      .nav-btn:hover::before {
        left: 100%;
      }

      .nav-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(99, 102, 241, 0.45);
      }

      .nav-btn:active {
        transform: translateY(0) scale(0.97);
      }

      .nav-btn.secondary {
        background: white;
        color: #374151;
        border: 1px solid #d1d5db;
      }

      .nav-btn.secondary::before {
        background: linear-gradient(
          90deg,
          transparent,
          rgba(99, 102, 241, 0.1),
          transparent
        );
      }

      .nav-btn.secondary:hover {
        background: #f9fafb;
        border-color: #8b5cf6;
        color: #6366f1;
      }

      /* Main Container */
      .main-container {
        max-width: 800px;
        margin: 0 auto;
        padding: 24px;
      }

      /* Page Header */
      .page-header {
        background: linear-gradient(135deg, #ffffff 0%, #faf5ff 100%);
        border-radius: 16px;
        padding: 32px;
        margin-bottom: 24px;
        box-shadow: 0 4px 20px rgba(99, 102, 241, 0.1);
        border: 1px solid rgba(139, 92, 246, 0.15);
        text-align: center;
      }

      .page-header h2 {
        color: #1e293b;
        font-weight: 600;
        margin-bottom: 8px;
        font-size: 24px;
      }

      .page-header p {
        color: #64748b;
        font-size: 14px;
        margin-bottom: 0;
      }

      .page-header i {
        font-size: 48px;
        color: #2563eb;
        margin-bottom: 12px;
      }

      /* Progress Steps */
      .progress-steps {
        display: flex;
        justify-content: space-between;
        margin-bottom: 24px;
        position: relative;
      }

      .progress-steps::before {
        content: "";
        position: absolute;
        top: 16px;
        left: 0;
        right: 0;
        height: 2px;
        background: #e2e8f0;
        z-index: 0;
      }

      .step {
        background: white;
        width: 36px;
        height: 36px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        font-size: 14px;
        color: #64748b;
        position: relative;
        z-index: 1;
        border: 2px solid #e2e8f0;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        cursor: pointer;
      }

      .step:hover {
        transform: scale(1.1);
        box-shadow: 0 4px 12px rgba(99, 102, 241, 0.2);
      }

      .step.active {
        background: #2563eb;
        color: white;
        border-color: #2563eb;
      }

      .step.completed {
        background: #059669;
        color: white;
        border-color: #059669;
      }

      /* Form Card */
      .form-card {
        background: white;
        border-radius: 12px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
        border: 1px solid #e2e8f0;
        padding: 32px;
      }

      /* Form Elements */
      .form-label {
        color: #374151;
        font-weight: 500;
        margin-bottom: 8px;
        font-size: 14px;
      }

      .form-label i {
        margin-right: 6px;
        color: #2563eb;
      }

      .form-control,
      .form-select {
        padding: 12px 16px;
        border: 1px solid #d1d5db;
        border-radius: 8px;
        font-size: 14px;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        background: white;
      }

      .form-control:hover,
      .form-select:hover {
        border-color: #a5b4fc;
        background: #fefefe;
      }

      .form-control:focus,
      .form-select:focus {
        border-color: #6366f1;
        box-shadow:
          0 0 0 4px rgba(99, 102, 241, 0.12),
          0 2px 8px rgba(99, 102, 241, 0.1);
        outline: none;
        background: white;
      }

      .form-control::placeholder {
        color: #9ca3af;
      }

      /* Category Cards */
      .category-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 12px;
        margin-bottom: 16px;
      }

      .category-card {
        background: #f8fafc;
        border: 1px solid #e2e8f0;
        border-radius: 10px;
        padding: 16px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .category-card:hover {
        background: linear-gradient(135deg, #f5f3ff 0%, #eff6ff 100%);
        border-color: #8b5cf6;
        transform: translateY(-4px);
        box-shadow: 0 8px 20px rgba(139, 92, 246, 0.15);
      }

      .category-card:hover i {
        transform: scale(1.15) rotate(5deg);
      }

      .category-card i {
        font-size: 24px;
        margin-bottom: 8px;
        display: block;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .category-card.selected {
        background: linear-gradient(135deg, #ede9fe 0%, #e0e7ff 100%);
        color: #6366f1;
        border-color: #8b5cf6;
        box-shadow: 0 4px 12px rgba(139, 92, 246, 0.2);
      }

      .category-card h6 {
        margin: 0;
        font-weight: 500;
        font-size: 12px;
      }

      /* File Upload */
      .file-upload-wrapper {
        position: relative;
        border: 2px dashed #d1d5db;
        border-radius: 10px;
        padding: 32px;
        text-align: center;
        background: #f8fafc;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        cursor: pointer;
      }

      .file-upload-wrapper:hover {
        border-color: #8b5cf6;
        background: linear-gradient(135deg, #f5f3ff 0%, #f8fafc 100%);
        transform: scale(1.01);
      }

      .file-upload-wrapper:hover i {
        transform: translateY(-4px);
      }

      .file-upload-wrapper.active {
        border-color: #2563eb;
        background: #eff6ff;
      }

      .file-upload-wrapper i {
        font-size: 36px;
        color: #2563eb;
        margin-bottom: 12px;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .file-upload-wrapper input[type="file"] {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        opacity: 0;
        cursor: pointer;
      }

      .file-info {
        display: none;
        margin-top: 12px;
        padding: 12px;
        background: #ecfdf5;
        border-radius: 8px;
        border: 1px solid #059669;
      }

      .file-info.show {
        display: block;
      }

      /* Buttons */
      .btn-submit {
        background: #2563eb;
        color: white;
        border: none;
        border-radius: 8px;
        padding: 14px 32px;
        font-weight: 500;
        font-size: 15px;
        transition: background 0.2s ease;
        cursor: pointer;
        width: 100%;
      }

      .btn-submit:hover {
        background: #1d4ed8;
      }

      .btn-submit:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .btn-secondary-custom {
        background: white;
        color: #374151;
        border: 1px solid #d1d5db;
        border-radius: 8px;
        padding: 14px 32px;
        font-weight: 500;
        font-size: 15px;
        transition: all 0.2s ease;
        cursor: pointer;
        width: 100%;
        margin-bottom: 12px;
      }

      .btn-secondary-custom:hover {
        background: #f9fafb;
        border-color: #9ca3af;
      }

      /* Tips Card */
      .tips-card {
        background: #eff6ff;
        border: 1px solid #bfdbfe;
        color: #1e40af;
        border-radius: 12px;
        padding: 20px;
        margin-top: 24px;
      }

      .tips-card h5 {
        font-weight: 600;
        margin-bottom: 12px;
        font-size: 14px;
      }

      .tips-card ul {
        margin: 0;
        padding-left: 18px;
      }

      .tips-card li {
        margin-bottom: 6px;
        font-size: 13px;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .nav-content {
          flex-direction: column;
          gap: 12px;
        }

        .main-container {
          padding: 16px;
        }

        .form-card {
          padding: 20px;
        }

        .category-grid {
          grid-template-columns: repeat(2, 1fr);
        }

        .progress-steps {
          justify-content: space-around;
        }
      }

      /* Small Mobile Devices */
      @media (max-width: 480px) {
        .nav-content {
          padding: 0 12px;
        }

        .logo {
          font-size: 16px;
        }

        .nav-btn {
          padding: 6px 12px;
          font-size: 12px;
        }

        .nav-actions {
          gap: 8px;
          flex-wrap: wrap;
          justify-content: center;
        }

        .main-container {
          padding: 12px;
        }

        .page-header h2 {
          font-size: 18px;
        }

        .page-header p {
          font-size: 12px;
        }

        .form-card {
          padding: 16px;
        }

        .category-grid {
          grid-template-columns: 1fr;
          gap: 10px;
        }

        .category-card {
          padding: 14px;
        }

        .category-icon {
          width: 48px;
          height: 48px;
          font-size: 20px;
        }

        .category-card h4 {
          font-size: 13px;
        }

        .form-group label {
          font-size: 13px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
          font-size: 14px;
          padding: 12px;
        }

        .submit-btn {
          padding: 14px 24px;
          font-size: 14px;
        }

        .progress-steps {
          gap: 8px;
        }

        .step-number {
          width: 28px;
          height: 28px;
          font-size: 12px;
        }

        .step-label {
          font-size: 10px;
        }

        /* Touch-friendly tap targets */
        button,
        .nav-btn,
        .category-card,
        input,
        select,
        textarea {
          min-height: 44px;
        }
      }

      /* Improve touch interactions */
      @media (hover: none) and (pointer: coarse) {
        .nav-btn:hover,
        .category-card:hover,
        .submit-btn:hover {
          transform: none;
        }

        .nav-btn:active,
        .category-card:active,
        .submit-btn:active {
          transform: scale(0.98);
          opacity: 0.9;
        }
      }
    </style>
  </head>
  <body>
    <!-- Top Navigation -->
    <nav class="top-nav">
      <div class="nav-content">
        <div class="logo"><i class="fas fa-graduation-cap"></i> Edutrack</div>
        <div class="nav-actions">
          <button
            class="nav-btn secondary"
            onclick="window.location.href = 'student.html'"
          >
            <i class="fas fa-home"></i> Dashboard
          </button>
          <button
            class="nav-btn secondary"
            onclick="window.location.href = 'student_profile.html'"
          >
            <i class="fas fa-user"></i> Profile
          </button>
          <button
            class="nav-btn secondary"
            onclick="window.location.href = 'index.html'"
          >
            <i class="fas fa-sign-out-alt"></i> Logout
          </button>
        </div>
      </div>
    </nav>

    <div class="main-container">
      <!-- Page Header -->
      <div class="page-header">
        <i class="fas fa-upload"></i>
        <h2>Submit New Activity</h2>
        <p>
          Upload your achievements and certifications for coordinator review
        </p>
      </div>

      <!-- Progress Steps -->
      <div class="progress-steps">
        <div class="step active" title="Fill Details">1</div>
        <div class="step" title="Select Category">2</div>
        <div class="step" title="Upload Files">3</div>
        <div class="step" title="Submit">4</div>
      </div>

      <!-- Form Card -->
      <div class="form-card">
        <form id="activityForm" onsubmit="handleSubmit(event)">
          <!-- Activity Title -->
          <div class="mb-4">
            <label for="title" class="form-label">
              <i class="fas fa-heading"></i> Activity Title *
            </label>
            <input
              type="text"
              class="form-control"
              id="title"
              placeholder="e.g., AWS Cloud Practitioner Certification"
              required
              oninput="updateProgress()"
            />
          </div>

          <!-- Category Selection -->
          <div class="mb-4">
            <label class="form-label">
              <i class="fas fa-tags"></i> Select Category *
            </label>
            <div class="category-grid">
              <div
                class="category-card"
                onclick="selectCategory(this, 'Workshops')"
              >
                <i class="fas fa-chalkboard-teacher"></i>
                <h6>Workshops & Conferences</h6>
              </div>
              <div
                class="category-card"
                onclick="selectCategory(this, 'Certifications')"
              >
                <i class="fas fa-certificate"></i>
                <h6>Certifications</h6>
              </div>
              <div
                class="category-card"
                onclick="selectCategory(this, 'Volunteering')"
              >
                <i class="fas fa-hands-helping"></i>
                <h6>Volunteering</h6>
              </div>
              <div
                class="category-card"
                onclick="selectCategory(this, 'Competitions')"
              >
                <i class="fas fa-trophy"></i>
                <h6>Competitions</h6>
              </div>
              <div
                class="category-card"
                onclick="selectCategory(this, 'Leadership')"
              >
                <i class="fas fa-user-tie"></i>
                <h6>Leadership & Internships</h6>
              </div>
              <div
                class="category-card"
                onclick="selectCategory(this, 'Community')"
              >
                <i class="fas fa-heart"></i>
                <h6>Community Service</h6>
              </div>
            </div>
            <input type="hidden" id="category" required />
          </div>

          <!-- Date -->
          <div class="mb-4">
            <label for="activityDate" class="form-label">
              <i class="fas fa-calendar"></i> Activity Date *
            </label>
            <input
              type="date"
              class="form-control"
              id="activityDate"
              required
              oninput="updateProgress()"
            />
          </div>

          <!-- Description -->
          <div class="mb-4">
            <label for="description" class="form-label">
              <i class="fas fa-align-left"></i> Description *
            </label>
            <textarea
              class="form-control"
              id="description"
              rows="5"
              placeholder="Provide detailed information about your activity, what you learned, achievements, etc."
              required
              oninput="updateProgress()"
            ></textarea>
            <small class="text-muted">Minimum 50 characters</small>
          </div>

          <!-- File Upload -->
          <div class="mb-4">
            <label class="form-label">
              <i class="fas fa-paperclip"></i> Upload Proof/Certificate *
            </label>
            <div class="file-upload-wrapper" id="fileUploadWrapper">
              <i class="fas fa-cloud-upload-alt"></i>
              <h5>Drag & Drop or Click to Upload</h5>
              <p class="text-muted mb-0">
                Supported formats: PDF, JPG, PNG (Max 5MB)
              </p>
              <input
                type="file"
                id="file"
                accept=".pdf,.jpg,.jpeg,.png"
                required
                onchange="handleFileSelect(event)"
              />
            </div>
            <div class="file-info" id="fileInfo">
              <i
                class="fas fa-check-circle"
                style="color: #11998e; margin-right: 10px"
              ></i>
              <strong id="fileName"></strong>
              <span
                id="fileSize"
                class="text-muted"
                style="margin-left: 10px"
              ></span>
            </div>
          </div>

          <!-- Additional Notes -->
          <div class="mb-4">
            <label for="notes" class="form-label">
              <i class="fas fa-sticky-note"></i> Additional Notes (Optional)
            </label>
            <textarea
              class="form-control"
              id="notes"
              rows="3"
              placeholder="Any additional information you'd like to share..."
            ></textarea>
          </div>

          <!-- Submit Buttons -->
          <div class="mt-4">
            <button
              type="button"
              class="btn-secondary-custom"
              onclick="saveDraft()"
            >
              <i class="fas fa-save"></i> Save as Draft
            </button>
            <button type="submit" class="btn-submit" id="submitBtn" disabled>
              <i class="fas fa-paper-plane"></i> Submit for Review
            </button>
          </div>
        </form>
      </div>

      <!-- Tips Card -->
      <div class="tips-card">
        <h5><i class="fas fa-lightbulb"></i> Submission Tips</h5>
        <ul>
          <li>Ensure your certificate/proof is clear and readable</li>
          <li>Provide accurate dates and detailed descriptions</li>
          <li>Upload official documents only (no screenshots)</li>
          <li>
            Your submission will be reviewed by your coordinator within 2-3
            business days
          </li>
          <li>You'll receive a notification once the review is complete</li>
        </ul>
      </div>
    </div>

    <script>
      let selectedCategory = "";

      // Select category
      function selectCategory(element, category) {
        // Remove selection from all cards
        document.querySelectorAll(".category-card").forEach((card) => {
          card.classList.remove("selected");
        });

        // Add selection to clicked card
        element.classList.add("selected");
        selectedCategory = category;
        document.getElementById("category").value = category;

        // Update progress
        updateProgress();
      }

      // Handle file selection
      function handleFileSelect(event) {
        const file = event.target.files[0];
        if (file) {
          // Check file size (5MB max)
          if (file.size > 5 * 1024 * 1024) {
            alert("File size exceeds 5MB. Please upload a smaller file.");
            event.target.value = "";
            return;
          }

          // Show file info
          document.getElementById("fileName").textContent = file.name;
          document.getElementById("fileSize").textContent =
            `(${(file.size / 1024).toFixed(2)} KB)`;
          document.getElementById("fileInfo").classList.add("show");
          document.getElementById("fileUploadWrapper").classList.add("active");

          // Update progress
          updateProgress();
        }
      }

      // Drag and drop functionality
      const fileUploadWrapper = document.getElementById("fileUploadWrapper");

      fileUploadWrapper.addEventListener("dragover", (e) => {
        e.preventDefault();
        fileUploadWrapper.style.borderColor = "#667eea";
        fileUploadWrapper.style.background = "rgba(102, 126, 234, 0.1)";
      });

      fileUploadWrapper.addEventListener("dragleave", (e) => {
        e.preventDefault();
        fileUploadWrapper.style.borderColor = "#e2e8f0";
        fileUploadWrapper.style.background = "#f7fafc";
      });

      fileUploadWrapper.addEventListener("drop", (e) => {
        e.preventDefault();
        const file = e.dataTransfer.files[0];
        document.getElementById("file").files = e.dataTransfer.files;
        handleFileSelect({ target: { files: [file] } });
      });

      // Update progress steps
      function updateProgress() {
        const title = document.getElementById("title").value;
        const category = document.getElementById("category").value;
        const date = document.getElementById("activityDate").value;
        const description = document.getElementById("description").value;
        const file = document.getElementById("file").files.length > 0;

        const steps = document.querySelectorAll(".step");

        // Step 1: Basic info
        if (title && date) {
          steps[0].classList.add("completed");
          steps[1].classList.add("active");
        }

        // Step 2: Category
        if (category) {
          steps[1].classList.add("completed");
          steps[2].classList.add("active");
        }

        // Step 3: File
        if (file) {
          steps[2].classList.add("completed");
          steps[3].classList.add("active");
        }

        // Enable submit button if all required fields are filled
        const submitBtn = document.getElementById("submitBtn");
        if (title && category && date && description.length >= 50 && file) {
          submitBtn.disabled = false;
        } else {
          submitBtn.disabled = true;
        }
      }

      // Save as draft
      function saveDraft() {
        const formData = {
          title: document.getElementById("title").value,
          category: selectedCategory,
          date: document.getElementById("activityDate").value,
          description: document.getElementById("description").value,
          notes: document.getElementById("notes").value,
          savedAt: new Date().toISOString(),
        };

        localStorage.setItem("activityDraft", JSON.stringify(formData));
        alert(
          "✅ Draft saved successfully!\n\nYou can continue editing later.",
        );
      }

      // Handle form submission
      function handleSubmit(event) {
        event.preventDefault();

        const formData = {
          title: document.getElementById("title").value,
          category: selectedCategory,
          date: document.getElementById("activityDate").value,
          description: document.getElementById("description").value,
          notes: document.getElementById("notes").value,
          fileName: document.getElementById("fileName").textContent,
          submittedAt: new Date().toISOString(),
        };

        // Simulate submission
        const submitBtn = document.getElementById("submitBtn");
        submitBtn.innerHTML =
          '<i class="fas fa-spinner fa-spin"></i> Submitting...';
        submitBtn.disabled = true;

        setTimeout(() => {
          // Clear draft
          localStorage.removeItem("activityDraft");

          // Show success message
          alert(
            "✅ Activity Submitted Successfully!\n\n" +
              "Your activity has been sent to your coordinator for review.\n\n" +
              "Activity: " +
              formData.title +
              "\n" +
              "Category: " +
              formData.category +
              "\n\n" +
              "You will receive a notification once the review is complete.",
          );

          // Redirect to dashboard
          window.location.href = "student.html";
        }, 2000);
      }

      // Load draft on page load
      window.onload = function () {
        const draft = localStorage.getItem("activityDraft");
        if (
          draft &&
          confirm("You have a saved draft. Would you like to continue editing?")
        ) {
          const data = JSON.parse(draft);
          document.getElementById("title").value = data.title || "";
          document.getElementById("activityDate").value = data.date || "";
          document.getElementById("description").value = data.description || "";
          document.getElementById("notes").value = data.notes || "";

          if (data.category) {
            // Find and select the category card
            const categoryCards = document.querySelectorAll(".category-card");
            categoryCards.forEach((card) => {
              if (
                card.querySelector("h6").textContent.includes(data.category)
              ) {
                selectCategory(card, data.category);
              }
            });
          }
        }
      };
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
